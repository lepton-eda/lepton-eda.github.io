<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for Lepton EDA, version 1.9.13.

Copyright (C) 2011-2013 Peter TB Brett
Copyright (C) 2011-2017 gEDA developers
Copyright (C) 2017-2021 Lepton developers

The text of and illustrations in this document are licensed under a
Creative Commons Attribution–Share Alike 3.0 Unported license
("CC-BY-SA"). An explanation of CC-BY-SA is available at
http://creativecommons.org/licenses/by-sa/3.0/. The original
authors of this document designate the gEDA Project and Lepton EDA
Project as the "Attribution Parties" for purposes of CC-BY-SA. In
accordance with CC-BY-SA, if you distribute this document or an
adaptation of it, you must provide the URL for the original version. -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Hooks (Lepton EDA Scheme Reference Manual 1.9.13)</title>

<meta name="description" content="Hooks (Lepton EDA Scheme Reference Manual 1.9.13)">
<meta name="keywords" content="Hooks (Lepton EDA Scheme Reference Manual 1.9.13)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="lepton_002dschematic-API-Reference.html" rel="up" title="lepton-schematic API Reference">
<link href="Actions.html" rel="next" title="Actions">
<link href="Selections.html" rel="prev" title="Selections">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="lepton-scheme.css">


</head>

<body lang="en">
<span id="Hooks"></span><div class="header">
<p>
Next: <a href="Actions.html" accesskey="n" rel="next">Actions</a>, Previous: <a href="Selections.html" accesskey="p" rel="prev">Selections</a>, Up: <a href="lepton_002dschematic-API-Reference.html" accesskey="u" rel="up">lepton-schematic API Reference</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Hooks-1"></span><h3 class="section">3.4 Hooks</h3>

<p>To use the hooks described in this section, you will need to load the
<code>(schematic hook)</code> module.
</p>
<p>lepton-schematic defines a number of hooks that allow functions to be
automatically run whenever a number of built-in actions are invoked by
the user.
</p>
<p>Most Scheme functions do not call these hooks.  If it makes sense for
your code to invoke a standard hook, you should normally do so
explicitly.
</p>
<p><strong>Warning</strong>: Functions added to these standard hooks should not
normally modify their arguments.
</p>
<p>For more information on hooks in Guile, see <a href="https://www.gnu.org/software/guile/manual/html_node/Hooks.html#Hooks">Hooks</a> in <cite>Guile Reference Manual</cite>.
</p>
<dl>
<dt id="index-add_002dobjects_002dhook">Variable: <strong>add-objects-hook</strong></dt>
<dd><p>Called after objects are added to the page, at their initial creation.
The argument is a list of the objects being added.
</p></dd></dl>

<dl>
<dt id="index-copy_002dobjects_002dhook">Variable: <strong>copy-objects-hook</strong></dt>
<dd><p>Called after objects are copied, either via <strong>Edit → Copy Mode</strong> or
similar, or to buffers, or to the clipboard.  Argument is a list of the
objects that were copied.
</p></dd></dl>

<dl>
<dt id="index-remove_002dobjects_002dhook">Variable: <strong>remove-objects-hook</strong></dt>
<dd><p>Called after objects are removed from the page.  Argument is a list of
the objects being removed.
</p></dd></dl>

<dl>
<dt id="index-move_002dobjects_002dhook">Variable: <strong>move-objects-hook</strong></dt>
<dd><p>Called after objects are moved.  Argument is a list of the objects
that were moved.
</p></dd></dl>

<dl>
<dt id="index-mirror_002dobjects_002dhook">Variable: <strong>mirror-objects-hook</strong></dt>
<dd><p>Called after objects are mirrored.  Argument is a list of the objects
that were mirrored.
</p></dd></dl>

<dl>
<dt id="index-rotate_002dobjects_002dhook">Variable: <strong>rotate-objects-hook</strong></dt>
<dd><p>Called after objects are rotated.  Argument is a list of the objects
that were rotated.
</p></dd></dl>

<dl>
<dt id="index-paste_002dobjects_002dhook">Variable: <strong>paste-objects-hook</strong></dt>
<dd><p>Called after objects are pasted to the page, either via <strong>Edit →
Copy Mode</strong> or similar, or via buffers, or via the clipboard.  Argument
is a list of the objects that were pasted.
</p></dd></dl>

<dl>
<dt id="index-attach_002dattribs_002dhook">Variable: <strong>attach-attribs-hook</strong></dt>
<dd><p>Called after attributes are attached to something.  The argument is a
list of the attributes that were attached.
</p></dd></dl>

<dl>
<dt id="index-detach_002dattribs_002dhook">Variable: <strong>detach-attribs-hook</strong></dt>
<dd><p>Called after attributes are detached from something.  The argument is
a list of the attributes that were detached.
</p></dd></dl>

<dl>
<dt id="index-select_002dobjects_002dhook">Variable: <strong>select-objects-hook</strong></dt>
<dd><p>Called after objects are added to the selection.  The argument is a
list of objects that were selected.
</p></dd></dl>

<dl>
<dt id="index-deselect_002dobjects_002dhook">Variable: <strong>deselect-objects-hook</strong></dt>
<dd><p>Called after objects are removed from the selection.  The argument is
a list of objects that were deselected.
</p></dd></dl>

<dl>
<dt id="index-new_002dpage_002dhook">Variable: <strong>new-page-hook</strong></dt>
<dd><p>Called when a new page is created. The argument is the new page.
</p></dd></dl>

<dl>
<dt id="index-open_002dpage_002dhook">Variable: <strong>open-page-hook</strong></dt>
<dd><p>Called when an existing page is loaded. The argument is the loaded page.
</p></dd></dl>

<dl>
<dt id="index-action_002dproperty_002dhook">Variable: <strong>action-property-hook</strong></dt>
<dd><p>Called when an action property is set.  The arguments are the action,
the property key and the property value. See <a href="Actions.html">Actions</a>.
</p>
<p>Since 1.10.
</p></dd></dl>

<dl>
<dt id="index-bind_002dkeys_002dhook">Variable: <strong>bind-keys-hook</strong></dt>
<dd><p>Called when a key binding is set or modified.  The arguments are the
keymap, the key sequence and the binding&rsquo;s target.
</p>
<p><strong>Note</strong>: <code>bind-keys-hook</code> may be run multiple times for a
single key binding event if the target keymap is bound within a
superior keymap.
</p>
<p>Since 1.10.
</p></dd></dl>

<dl>
<dt id="index-switch_002daction_002dmode_002dhook">Variable: <strong>switch-action-mode-hook</strong></dt>
<dd><p>Called when GUI switches to a new action mode. The argument is the new
mode.
</p>
<p>The action mode may be one of the following symbols:
</p>
<ul>
<li> &lsquo;<samp>select-mode</samp>&rsquo;
</li><li> &lsquo;<samp>grips-mode</samp>&rsquo;
</li><li> &lsquo;<samp>arc-mode</samp>&rsquo;
</li><li> &lsquo;<samp>box-mode</samp>&rsquo;
</li><li> &lsquo;<samp>bus-mode</samp>&rsquo;
</li><li> &lsquo;<samp>circle-mode</samp>&rsquo;
</li><li> &lsquo;<samp>line-mode</samp>&rsquo;
</li><li> &lsquo;<samp>net-mode</samp>&rsquo;
</li><li> &lsquo;<samp>path-mode</samp>&rsquo;
</li><li> &lsquo;<samp>picture-mode</samp>&rsquo;
</li><li> &lsquo;<samp>pin-mode</samp>&rsquo;
</li><li> &lsquo;<samp>component-mode</samp>&rsquo;
</li><li> &lsquo;<samp>copy-mode</samp>&rsquo;
</li><li> &lsquo;<samp>multiple-copy-mode</samp>&rsquo;
</li><li> &lsquo;<samp>move-mode</samp>&rsquo;
</li><li> &lsquo;<samp>paste-mode</samp>&rsquo;
</li><li> &lsquo;<samp>text-mode</samp>&rsquo;
</li><li> &lsquo;<samp>box-select-mode</samp>&rsquo;
</li><li> &lsquo;<samp>zoom-box-mode</samp>&rsquo;
</li><li> &lsquo;<samp>pan-mode</samp>&rsquo;
</li><li> &lsquo;<samp>mirror-mode</samp>&rsquo;
</li><li> &lsquo;<samp>rotate-mode</samp>&rsquo;
</li></ul>

<div class="example">
<pre class="example">(add-hook! switch-action-mode-hook
           (lambda (mode) (display mode) (newline)))
</pre></div>

<p>Since 1.10.
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Actions.html" accesskey="n" rel="next">Actions</a>, Previous: <a href="Selections.html" accesskey="p" rel="prev">Selections</a>, Up: <a href="lepton_002dschematic-API-Reference.html" accesskey="u" rel="up">lepton-schematic API Reference</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
